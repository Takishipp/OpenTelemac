\chapter{Description of the serafin format}
\label{sec:srffmt}
It is a binary file.

The list of records is as follows:

\begin{itemize}
\item 1 record containing the title of the study (72 characters) and 8
characters indicating the format (SERAFIN or SERAFIND),

\item 1 record containing the couple of integer values NBV(1)
and NBV(2) (number of linear and quadratic discretization
variables, NBV(2) being 0),

\item NBV(1) records containing both name and unit of each
variable (over 32 characters -- normally 16 for the variable's name and 16 for
the unit),

\item a record containing the IPARAM array consisting of 10 integers,

\begin{itemize}

\item if IPARAM(3) $\neq$ 0: the value corresponds to the
x-coordinate of the origin of the mesh,

\item if IPARAM(4) $\neq$ 0: the value corresponds to the
y-coordinate of the origin of the mesh,

\item if IPARAM(7) $\neq$ 0: the value corresponds to the
number of planes on the vertical (3D computation),

\item if IPARAM(8) $\neq$ 0: the value corresponds to the
number of boundary points (in parallel),

\item if IPARAM(9) $\neq$ 0: the value corresponds to the
number of interface points (in parallel),

\item if IPARAM(8) or IPARAM(9) $\neq$ 0: the
array IPOBO below is replaced by the array KNOLG (total initial number of
points). All the other numbers are local to the sub-domain, including IKLE.

\item if IPARAM(10) = 1: the file contains the record of both date and time of
the computation start (6 integers) which take the values of the keywords
\telkey{ORIGINAL DATE OF TIME} and \telkey{ORIGINAL HOUR OF TIME} from the
steering file.
\end{itemize}

\item a record containing the integers NELEM3, NPOIN3, NDP, 1
(number of elements, number of points, number of points per element and the
value 1),

\item a record containing the IKLE3 integer array ((NDP,
NELEM3-dimensioned array), the connectivity table,

\item a record containing the IPOBO integer array (NPOIN3-dimensioned
array). The value of an element is 0 for an inner point and yields the edge
point numbers for the others),

\item a record containing the X real array (NPOIN3-dimensioned array of
the node abscissae),

\item a record containing the Y real array (NPOIN3-dimensioned array of
node ordinates),
\end{itemize}

Afterwards, the following record can be found for each time step:

\begin{itemize}
\item a record containing the AT time (real),

\item NBV(1)+NBV(2) records containing the
result arrays for each variable at the AT time.
\end{itemize}

